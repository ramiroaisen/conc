"use strict";function*generate(e){let t=0;for(const o of e)yield[t++,o]}Object.defineProperty(exports,"__esModule",{value:!0});const sleep=e=>new Promise(t=>setTimeout(t,e));exports.options={startTimeout:0,timeout:0},exports.concurrent=((e,t={})=>{const{startTimeout:o,timeout:s}={...exports.options,...t};return async(t,n)=>{const a=generate(t),r=async()=>{const{value:e,done:t}=a.next();if(t)return;const[o,i]=e;await n(i,o),s&&await sleep(s),await r()},i=[];for(let t=0;t<e;t++)i.push(new Promise(async e=>{await sleep(t*o),await r(),e()}));await Promise.all(i)}});